/**
 * Pins used to generate events
 */
enum TBPins {
    //% block="button1"
    Button1 = <number>DAL.MICROBIT_ID_IO_P12,
    //% block="button2"
    Button2 = DAL.MICROBIT_ID_IO_P16,
    //% block="button3"
    Button3 = DAL.MICROBIT_ID_IO_P14,
    //% block="button4"
    Button4 = DAL.MICROBIT_ID_IO_P15,
    //% block="joystick1"
    Joystick1 = DAL.MICROBIT_ID_IO_P8
}

/**
 * Button events
 */
enum TBEvents {
    released = 0,
    pressed = 1
}

/**
  * Enumeration of buttons
  */
enum TBButtons {
    //% block="button1"
    Button1 = 0,
    //% block="button2"
    Button2 = 1,
    //% block="button3"
    Button3 = 2,
    //% block="button4"
    Button4 = 3,
    //% block="joystick1"
    Joystick1 = 4
}

/**
  * Enumeration of joystick axes
  */
enum TBJoystick {
    //% block="x"
    X,
    //% block="y"
    Y
}

/**
  * Update mode for LEDs    // dunno how the LEDs will be used yet
  * setting to Manual requires show LED changes blocks
  * setting to Auto will update the LEDs everytime they change
  */
enum TBMode
{
    Manual,
    Auto
}

/**
  * Pre-Defined LED colours
  */
enum TBColors
{
    //% block=red
    Red = 0xff0000,
    //% block=orange
    Orange = 0xffa500,
    //% block=yellow
    Yellow = 0xffff00,
    //% block=green
    Green = 0x00ff00,
    //% block=blue
    Blue = 0x0000ff,
    //% block=indigo
    Indigo = 0x4b0082,
    //% block=violet
    Violet = 0x8a2be2,
    //% block=purple
    Purple = 0xff00ff,
    //% block=white
    White = 0xffffff,
    //% block=black
    Black = 0x000000
}

/**
 * Custom blocks
 */
//% weight=10 color=#F47442 icon="\uf11b"
namespace trianglebit
{
    /**
      * Registers event code
      */
    //% weight=100
    //% blockId=tb_onevent 
    //% block="When touch pad %button| is %event"
    //% button.fieldEditor="gridpicker" button.fieldOptions.columns=5
    //% event.fieldEditor="gridpicker" event.fieldOptions.columns=2
    //% subcategory=Inputs
    //% group=Inputs
    export function onEvent(button: TBButtons, event: TBEvents, handler: Action)
    {
        
    }
    
    /**
      * Read dial
      *
      */
    //% blockId="trianglebit_read_dial" block="dial"
    //% weight=90
    //% subcategory=Inputs
    //% group=Inputs
    export function readDial( ): number
    {
        //return pins.analogReadPin(AnalogPin.P0);
    }

    
    /**
      * Read joystick values
      *
      * @param axis Axis to read
      */
    //% blockId="trianglebit_read_joystick" block="joystick %axis"
    //% weight=90
    //% subcategory=Inputs
    //% group=Inputs
    export function readJoystick(axis: BCJoystick): number
    {
        //if (axis == BCJoystick.X)
        //    return pins.analogReadPin(AnalogPin.P1);
        //else
        //    return pins.analogReadPin(AnalogPin.P2);
    }

    /**
      *	Send string through BLE
      */
    //% block
    //% subcategory=Inputs
    //% group=Inputs
    //% text.defl="enter string"
    export function sendstr(text: string){
    //send string
    }

    //% block
    //% subcategory=Inputs
    //% group=Inputs
    export function testing()
    {
    uBit.display.scroll("HELLOWORLD");
    }

    }
